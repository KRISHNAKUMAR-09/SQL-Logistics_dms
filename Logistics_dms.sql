CREATE DATABASE LOGISTICS_DMS;
USE LOGISTICS_DMS;

-----------------------------------------------------------------------------------------------------------------------------------
CREATE TABLE COMPANY 
(REG_NO VARCHAR(5) PRIMARY KEY, 
CNAME VARCHAR(25) NOT NULL, 
CEO_FNAME VARCHAR(25) NOT NULL, 
PHONE_NUMBER int NOT NULL, 
STREET VARCHAR(30) NOT NULL, 
CITY VARCHAR(25) NOT NULL, 
STATE_NAME VARCHAR(20) NOT NULL, 
ZIPCODE int NOT NULL 
);

INSERT INTO COMPANY VALUES('COMP1','AXON CARGOS','PRASADJWALVEENHANT',994756825,'JAYANAGR','BENGALURU','KARNATAKA',583001);
-------------------------------------------------------------------------------------------------------------------------------------

CREATE TABLE EMPLOYEE 
( SSN INT PRIMARY KEY, 
 FNAME VARCHAR(25) NOT NULL, 
 MNAME VARCHAR(15), 
 LNAME VARCHAR(25) NOT NULL, 
 DNO INT NOT NULL, 
 SEX VARCHAR(12), 
 SALARY INTEGER, 
 STREET VARCHAR(30) NOT NULL, 
 CITY VARCHAR(20) NOT NULL, 
 STATE_NAME VARCHAR(20) NOT NULL, 
 ZIPCODE INT NOT NULL 
);

INSERT INTO EMPLOYEE VALUES(001,'SAGAR','M','H',10,'M',20000,'JAYANAGAR','BENGALURU','KARNATAKA',580001);
INSERT INTO EMPLOYEE VALUES(002,'VEDANTH','M','U',20,'M',11000,'KEMPEGOWDA ROAD','BENGALURU','KARNATAKA',580501);
INSERT INTO EMPLOYEE VALUES(003,'ABDUL','A','A',10,'M',40000,'J.P.PARK','BENGALURU','KARNATAKA',580021);
INSERT INTO EMPLOYEE VALUES(004,'ANUSHA','U','T',20,'F',10000,'ANJANAPURA','BENGALURU','KARNATAKA',586001);
INSERT INTO EMPLOYEE VALUES(005,'ARUN','M','N',30,'M',2000,'BEGUR','BENGALURU','KARNATAKA',585001);
INSERT INTO EMPLOYEE VALUES(006,'PRAMOD','R','A',20,'F',15000,'SARAKI','BENGALURU','KARNATAKA',583001);
INSERT INTO EMPLOYEE VALUES(007,'SUDEEP','W','T',10,'M',15000,'MADIWALA','BENGALURU','KARNATAKA',580301);
INSERT INTO EMPLOYEE VALUES(008,'SHREYA','M','K',30,'F',3000,'KARISANDA','BENGALURU','KARNATAKA',580021);
INSERT INTO EMPLOYEE VALUES(011,'HARISH','M','H',10,'M',20000,'JAYANAGAR','BENGALURU','KARNATAKA',580001);
INSERT INTO EMPLOYEE VALUES(012,'MOHAN','M','U',20,'M',6000,'KEMPEGOWDA ROAD','BENGALURU','KARNATAKA',580501);
INSERT INTO EMPLOYEE VALUES(013,'BALAJI','A','A',10,'M',6000,'J.P.PARK','BENGALURU','KARNATAKA',580021);
INSERT INTO EMPLOYEE VALUES(014,'SANGEETA','U','T',20,'F',15000,'ANJANAPURA','BENGALURU','KARNATAKA',586001);
INSERT INTO EMPLOYEE VALUES(015,'RAHIM','M','N',30,'M',5000,'BEGUR','BENGALURU','KARNATAKA',585001);
INSERT INTO EMPLOYEE VALUES(016,'SHANKAR','R','A',20,'M',15000,'SARAKI','BENGALURU','KARNATAKA',583001);
INSERT INTO EMPLOYEE VALUES(017,'VINAYAK','W','T',10,'M',15000,'MADIWALA','BENGALURU','KARNATAKA',580301);
INSERT INTO EMPLOYEE VALUES(018,'SHERYA','M','K',30,'F',5000,'JAYANAGAR','BENGALURU','KARNATAKA',580001);
INSERT INTO EMPLOYEE VALUES(019,'UMESH','G','C',10,'M',6000,'BTM LAYOUT','BENGALURU','KARNATAKA',585001);
INSERT INTO EMPLOYEE VALUES(020,'SATVIK','M','K',30,'M',9000,'JALAHALLI','BENGALURU','KARNATAKA',585051);

------------------------------------------------------------------------------------------------------------
CREATE TABLE DEPARTMENT 
(DNUM INT PRIMARY KEY, 
 DMGR_SSN INT NOT NULL, 
 REGNO VARCHAR(15) REFERENCES COMPANY(REG_NO), 
 DNAME VARCHAR(20), 
 D_LOCATION VARCHAR(30) NOT NULL  
);

INSERT INTO DEPARTMENT VALUES(10,001,'COMP1','ADMINISTRATION','JAYANAGAR');
INSERT INTO DEPARTMENT VALUES(20,006,'COMP1','SALES','JAYANAGAR');
INSERT INTO DEPARTMENT VALUES(30,008,'COMP1','R D','JAYANAGAR');


------------------------------------------------------------------------------------------------------------------
ALTER TABLE EMPLOYEE
ADD CONSTRAINT FKEMP FOREIGN KEY (DNO) REFERENCES DEPARTMENT(DNUM);

--------------------------------------------------------------------------------------------------------------------
CREATE TABLE DEPENDENT 
( ESSN INT REFERENCES EMPLOYEE(SSN), 
 FNAME VARCHAR(25) NOT NULL, 
 MNAME VARCHAR(4), 
 LNAME VARCHAR(4) NOT NULL,   
  SEX VARCHAR(12), 
 STREET VARCHAR(30) NOT NULL, 
 CITY VARCHAR(25) NOT NULL, 
 STATE_NAME VARCHAR(20) NOT NULL, 
 ZIPCODE INT NOT NULL 
);

INSERT INTO DEPENDENT VALUES(001,'NAYANA','M','H','F','JAYANAGAR','BANGALORU','KARNATAKA',580001);
INSERT INTO DEPENDENT VALUES(001,'JAYASHREE','M','H','F','JAYANAGAR','BANGALORU','KARNATAKA',580001);
INSERT INTO DEPENDENT VALUES(001,'RAHUL','M','H','M','JAYANAGAR','BANGALORU','KARNATAKA',580001);
INSERT INTO DEPENDENT VALUES(002,'JAGADISH','M','U','M','KEMPEGOWDA ROAD','BANGALORU','KARNATAKA',580501);
INSERT INTO DEPENDENT VALUES(002,'ESHWARI','M','U','F','KEMPEGOWDA ROAD','BANGALORU','KARNATAKA',580501);
INSERT INTO DEPENDENT VALUES(002,'HEMANT','M','U','M','KEMPEGOWDA ROAD','BANGALORU','KARNATAKA',580501);
INSERT INTO DEPENDENT VALUES(002,'VRUSHAB','M','U','M','KEMPEGOWDA ROAD','BANGALORU','KARNATAKA',580501);
INSERT INTO DEPENDENT VALUES(003,'AMISHA','A','A','F','J.P.PARK','BANGALORU','KARNATAKA',580021);
INSERT INTO DEPENDENT VALUES(003,'BALU','A','A','M','J.P.PARK','BANGALORU','KARNATAKA',580021);
INSERT INTO DEPENDENT VALUES(004,'SANGMESH','U','T','M','ANJANAPURA','BANGALORU','KARNATAKA',586001);
INSERT INTO DEPENDENT VALUES(005,'SABA','M','N','F','BEGUR','BANGALORU','KARNATAKA',585001);
INSERT INTO DEPENDENT VALUES(005,'AISHA','M','N','F','BEGUR','BANGALORU','KARNATAKA',585001);
INSERT INTO DEPENDENT VALUES(006,'VAISHNAVI','R','A','F','SARAKI','BANGALORU','KARNATAKA',583001);
INSERT INTO DEPENDENT VALUES(007,'DEEPA','W','T','F','MADIWALA','BANGALORU','KARNATAKA',580301);
INSERT INTO DEPENDENT VALUES(007,'SHRI','W','T','F','MADIWALA','BANGALORU','KARNATAKA',580301);
INSERT INTO DEPENDENT VALUES(008,'GANESH','G','C','M','BTM LAYOUT','BANGALORU','KARNATAKA',585001);
INSERT INTO DEPENDENT VALUES(011,'SATVIK','M','K','M','JALAHALLI','BANGALORU','KARNATAKA',585051);
INSERT INTO DEPENDENT VALUES(011,'ANIL','V','H','M','BANASWADI','BANGALORU','KARNATAKA',586001);
INSERT INTO DEPENDENT VALUES(012,'MEGHA','M','B','F','KUMARSWAMI LAYOUT','BANGALORU','KARNATAKA',582001);
INSERT INTO DEPENDENT VALUES(012,'SEEMA','M','B','F','KUMARSWAMI LAYOUT','BANGALORU','KARNATAKA',582001);
INSERT INTO DEPENDENT VALUES(013,'AMIT','A','C','M','SANGAY NAGR','BANGALORU','KARNATAKA',583001);
INSERT INTO DEPENDENT VALUES(014,'TANESH','D','A','M','NAGAVAR','BANGALORU','KARNATAKA',582001);
INSERT INTO DEPENDENT VALUES(015,'JAYA','F','T','M','MADIWALA','BANGALORU','KARNATAKA',580301);

--------------------------------------------------------------------------------------------------------------------------------
CREATE TABLE CUSTOMER 
(COMP_ID VARCHAR(10) PRIMARY KEY, 
COMP_NAME VARCHAR(30), 
CONTACTNO BIGINT NOT NULL, 
 STREET VARCHAR(30) NOT NULL, 
 CITY VARCHAR(25) NOT NULL, 
 STATE_NAME VARCHAR(20) NOT NULL, 
 ZIPCODE BIGINT NOT NULL 
);

INSERT INTO CUSTOMER VALUES('C1','AXON',9975647821,'ANANDNAGAR','BADAMI','KARNATAKA',587201);
INSERT INTO CUSTOMER VALUES('C2','KLE',9124878571,'VIDYANAGAR','HUBLI','KARNATAKA',580031);
INSERT INTO CUSTOMER VALUES('C3','ORIlAME',7945798468,'HAZRATGANJ','LUCKNOW','UTTAR PRADESH',587381);
INSERT INTO CUSTOMER VALUES('C4','SOLAR',7815496855,'BANNERGHATTTA','BENGALURU','KARNATAKA',560076);
INSERT INTO CUSTOMER VALUES('C5','GESCL',7168468795,'TEKARA','AHMEDABAD','GUJARAT',380008);
INSERT INTO CUSTOMER VALUES('C6','SHARDA CROPCHEM',7892587456,'ANDHRI','MUMBAI','MAHARASTRA',400053);
INSERT INTO CUSTOMER VALUES('C11','UNICHEM',9475687131,'MAMOOR','CHENNAI','TAMIL NADU',600003);
INSERT INTO CUSTOMER VALUES('C12','LAKSHMI VILAS BANK',7545647821,'AMARTH ADAN','MUMBAI','MAHARASTRA',400080);
INSERT INTO CUSTOMER VALUES('C13','UFLEX',9975472321,'KOTHRUD','PUNE','MAHARASTRA',400021);
INSERT INTO CUSTOMER VALUES('C14','CLUB MAHINDRA',7875647821,'PURANIMANDI','AGRA','UTTAR PRADESH',282002);
INSERT INTO CUSTOMER VALUES('C15','NATCO',7775647825,'GOMINAGAR','LUCKNOW','UTTAR PRADESH',226010);
INSERT INTO CUSTOMER VALUES('C16','TATA SPONGE',9885648621,'VASUNDARA NAGAR','GHAZIABAD','UTTAR PRADESH',201012);
INSERT INTO CUSTOMER VALUES('C17','POLARIS',9975647821,'MUGAPPAIR','CHENNAI','TAMIL NADU',400015);
INSERT INTO CUSTOMER VALUES('C18','INFOEDGE',9974758234,'JEE RAOD','KOLKATTA','WEST BENGAL',557326);
INSERT INTO CUSTOMER VALUES('C19','J.B.CHEMICALS',9975600041,'ANDERI','MUMBAI','MAHARASTRA',400053);
INSERT INTO CUSTOMER VALUES('C20','McLEOD',7660056457,'VIHARI','DELHI','DELHI',110015);
INSERT INTO CUSTOMER VALUES('C21','PROTEUS',7661050457,'JAYANAGAR','BENGALURU','KARNATAKA',580001);
INSERT INTO CUSTOMER VALUES('C22','SAP',7660156450,'JAYANAGAR','BENGALURU','KARNATAKA',580001);

------------------------------------------------------------------------------------------------------------------------------------------
CREATE TABLE ORDER_DETAILS 
(ORDER_ID VARCHAR(20) NOT NULL, 
CUSTOMER_ID VARCHAR (20) REFERENCES CUSTOMER(COMP_ID),  
PARCEL_MATERIAL VARCHAR(20), 
TOT_VEHICLES INT, 
TOT_AMOUNT INT, 
ORD_DATE DATE NOT NULL, 
ACTUAL_DATE DATE NOT NULL, 
SOURCE_LOC varchar(20) NOT NULL, 
DEST_LOC varchar(20) NOT NULL, 
DISTANCE INT not null, 
PRIMARY KEY(ORDER_ID) 
);

INSERT INTO ORDER_DETAILS VALUES('001','C1','FRUITS',0,15000,'2019-09-24','2019-09-24','WHITEFIELD','ANANDNAGAR',330);
INSERT INTO ORDER_DETAILS VALUES('002','C5','VEGETABLES',0,1000,'2019-12-21','2019-12-21','PEENYA','AHMEDABAD',445);
INSERT INTO ORDER_DETAILS VALUES('003','C1','FRUITS',0,6000,'2019-09-24','2019-10-14','ANANDNAGAR','MYSORE',620);
INSERT INTO ORDER_DETAILS VALUES('004','C2','FURNITURE',0,8000,'2019-09-24','2019-09-26','VIDYANAGAR','MYSORE',440);
INSERT INTO ORDER_DETAILS VALUES('005','C1','ELECTRONIC',0,7000,'2019-01-01','2019-01-02','YASHWANTPUR','ANANDNAGAR',340);
INSERT INTO ORDER_DETAILS VALUES('006','C3','VEGETABLES',0,5000,'2019-05-06','2019-05-26','YASHWANTPUR','LUCKNOW',550);
INSERT INTO ORDER_DETAILS VALUES('007','C2','FRUITS',0,10000,'2019-09-24','2019-09-24','VIDYANAGAR','TUMKUR',460);
INSERT INTO ORDER_DETAILS VALUES('008','C2','FURNITURE',0,56000,'2019-02-02','2019-02-04','YASHWANTPUR','VIDYANAGAR',540);
INSERT INTO ORDER_DETAILS VALUES('009','C4','FRUITS',0,4000,'2019-05-06','2019-05-06','BANNERGHATTTA','KORAMANGALA',40);
INSERT INTO ORDER_DETAILS VALUES('010','C1','ELECTRONIC',0,20000,'2019-04-08','2019-04-09','VIJAYNAGAR','ANANDNAGAR',200);
INSERT INTO ORDER_DETAILS VALUES('011','C1','VEGETABLES',0,40000,'2019-05-06','2019-05-08','ANANDNAGAR','VIJAYNAGAR',200);
INSERT INTO ORDER_DETAILS VALUES('012','C2','ELECTRONIC',0,2000,'2020-02-28','2020-02-29','VIDYANAGAR','MYSORE',540);
INSERT INTO ORDER_DETAILS VALUES('013','C6','FRUITS',0,25000,'2019-05-06','2019-05-07','WHITEFIELD','MUMBAI',980);
INSERT INTO ORDER_DETAILS VALUES('021','C11','FRUITS',0,6000,'2019-09-24','2019-09-26','CHENNAI','BENGALURU',30);
INSERT INTO ORDER_DETAILS VALUES('022','C15','VEGETABLES',0,4500,'2019-12-21','2019-12-25','LUCKNOW','BENGALURU',45);
INSERT INTO ORDER_DETAILS VALUES('023','C19','FRUITS',0,10000,'2019-10-14','2019-10-17','MUMBAI','MYSORE',120);
INSERT INTO ORDER_DETAILS VALUES('024','C20','FURNITURE',0,17000,'2019-09-25','2019-09-27','DELHI','MUMBAI',140);
INSERT INTO ORDER_DETAILS VALUES('025','C11','ELECTRONIC',0,7000,'2019-01-01','2019-01-03','CHENNAI','HYDERABAD',120);
INSERT INTO ORDER_DETAILS VALUES('026','C13','VEGETABLES',0,3000,'2019-05-26','2019-05-26','PUNE','MUMBAI',50);
INSERT INTO ORDER_DETAILS VALUES('027','C14','FRUITS',0,2000,'2019-09-24','2019-09-24','AGRA','LUCKNOW',30);
INSERT INTO ORDER_DETAILS VALUES('028','C12','FURNITURE',0,21000,'2019-02-02','2019-02-04','MUMBAI','HUBLI',80);
INSERT INTO ORDER_DETAILS VALUES('029','C14','FRUITS',0,10000,'2019-05-06','2019-05-06','AGRA','LUCKNOW',30);
INSERT INTO ORDER_DETAILS VALUES('030','C18','ELECTRONIC',0,15000,'2019-04-08','2019-04-11','KOLKATTA','HYDERABAD',200);
INSERT INTO ORDER_DETAILS VALUES('031','C16','VEGETABLES',0,5000,'2019-06-30','2019-06-30','GHAZIABAD','AGRA',40);
INSERT INTO ORDER_DETAILS VALUES('032','C17','ELECTRONIC',0,5000,'2020-02-27','2020-02-29','CHENNAI','BENGALURU',140);
INSERT INTO ORDER_DETAILS VALUES('033','C11','FRUNITURE',0,15000,'2020-03-10','2020-03-13','CHENNAI','BENGALURU',140);
INSERT INTO ORDER_DETAILS VALUES('034','C15','ELECTRONIC',0,10000,'2019-09-27','2019-09-30','LUCKNOW','HUBLI',400);
INSERT INTO ORDER_DETAILS VALUES('035','C14','VEGETABLES',0,3000,'2019-08-11','2019-08-12','BENGALURU','HUBLI',405);
INSERT INTO ORDER_DETAILS VALUES('036','C11','FRUITS',0,5000,'2019-07-07','2019-07-07','HYDERABAD','HUBLI',380);
INSERT INTO ORDER_DETAILS VALUES('037','C12','ELECTRONICS',0,4000,'2019-07-08','2019-07-08','MUMBAI','BENGALURU',450);
INSERT INTO ORDER_DETAILS VALUES('038','C12','FRUITS',0,9800,'2019-01-31','2019-02-01','AGRA','MUMBAI',80);
INSERT INTO ORDER_DETAILS VALUES('039','C13','FURNITURE',0,4700,'2019-09-24','2019-09-25','BENGALURU','HUBLI',120);
INSERT INTO ORDER_DETAILS VALUES('040','C14','VEGETABLES',0,16000,'2019-11-26','2019-11-26','HYDERABAD','CHENNAI',70);


---------------------------------------------------------------------------------------------------------------------------------------
CREATE TABLE VEHICLE 
(  
VEHICLE_NO VARCHAR(20) PRIMARY KEY,MODEL VARCHAR(20), 
TYPE VARCHAR(20), 
MAX_CAPACITY VARCHAR(10) 
);

INSERT INTO VEHICLE VALUES('VEC31','ASHOK LAYLAND','SEMI-TRAILER','800KG');
INSERT INTO VEHICLE VALUES('VEC32','TOYOTA','TANK','10000L');
INSERT INTO VEHICLE VALUES('VEC33','FORD','FLAT BED','600KG');
INSERT INTO VEHICLE VALUES('VEC34','DOBGE','PANEL','600KG');
INSERT INTO VEHICLE VALUES('VEC35','TAHOE','SEMI-TRAILER','860KG');
INSERT INTO VEHICLE VALUES('VEC36','AVALANCHE','BOX','850KG');
INSERT INTO VEHICLE VALUES('VEC37','HONDA','MINIVAN','300 KG');
INSERT INTO VEHICLE VALUES('VEC38','DAKOTA','REFRIGERATOR','600KG');
INSERT INTO VEHICLE VALUES('VEC39','TACOMA','DUMP','300KG');
INSERT INTO VEHICLE VALUES('VEC40','CHEVROLET ','LUV','500KG');
INSERT INTO VEHICLE VALUES('VEC41','BLAZER','PANEL','600KG');
INSERT INTO VEHICLE VALUES('VEC42','ASHOK LAYLAND','SEMI-TRAILER','800KG');
INSERT INTO VEHICLE VALUES('VEC43','TOYOTA','TANK','10000L');
INSERT INTO VEHICLE VALUES('VEC44','FORD','FLAT BED','600KG');
INSERT INTO VEHICLE VALUES('VEC45','DOBGE','PANEL','600KG');
INSERT INTO VEHICLE VALUES('VEC46','TAHOE','SEMI-TRAILER','860KG');
INSERT INTO VEHICLE VALUES('VEC47','AVALANCHE','BOX','850KG');
INSERT INTO VEHICLE VALUES('VEC48','HONDA','MINIVAN','300 KG');
INSERT INTO VEHICLE VALUES('VEC49','DAKOTA','REFRIGERATOR','600KG');
INSERT INTO VEHICLE VALUES('VEC50','TACOMA','DUMP','300KG');
INSERT INTO VEHICLE VALUES('VEC51','CHEVROLET ','LUV','500KG');
INSERT INTO VEHICLE VALUES('VEC52','BLAZER','PANEL','600KG');
INSERT INTO VEHICLE VALUES('VEC53','ASHOK LAYLAND','SEMI-TRAILER','800KG');
INSERT INTO VEHICLE VALUES('VEC54','TOYOTA','TANK','10000L');
INSERT INTO VEHICLE VALUES('VEC55','FORD','FLAT BED','600KG');
INSERT INTO VEHICLE VALUES('VEC56','DOBGE','PANEL','600KG');
INSERT INTO VEHICLE VALUES('VEC57','TAHOE','SEMI-TRAILER','860KG');
INSERT INTO VEHICLE VALUES('VEC58','AVALANCHE','BOX','850KG');
INSERT INTO VEHICLE VALUES('VEC59','HONDA','MINIVAN','300 KG');
INSERT INTO VEHICLE VALUES('VEC60','DAKOTA','REFRIGERATOR','600KG');
INSERT INTO VEHICLE VALUES('VEC01','ASHOK LAYLAND','CARRIER','800KG');
INSERT INTO VEHICLE VALUES('VEC02','TOYOTA','LORRY','10000KG');
INSERT INTO VEHICLE VALUES('VEC03','FORD','LORRY','600KG');
INSERT INTO VEHICLE VALUES('VEC04','TOYOTA','PANEL','600KG');
INSERT INTO VEHICLE VALUES('VEC05','TACOMA','CARRIER','860KG');
INSERT INTO VEHICLE VALUES('VEC06','TOYOTA','LORRY','850KG');
INSERT INTO VEHICLE VALUES('VEC07','HONDA','MINIVAN','300KG');
INSERT INTO VEHICLE VALUES('VEC08','ASHOK LAYLAND','MINIVAN','600KG');
INSERT INTO VEHICLE VALUES('VEC09','TACOMA','MINIVAN','300KG');
INSERT INTO VEHICLE VALUES('VEC10','FORD ','LUV','500KG');
INSERT INTO VEHICLE VALUES('VEC11','FORD','CARRIER','600KG');
INSERT INTO VEHICLE VALUES('VEC12','ASHOK LAYLAND','CARRIER','800KG');
INSERT INTO VEHICLE VALUES('VEC13','TOYOTA','CARRIER','10000KG');
INSERT INTO VEHICLE VALUES('VEC14','FORD','LORRY','600KG');
INSERT INTO VEHICLE VALUES('VEC15','TOYOTA','CARRIER','600KG');
INSERT INTO VEHICLE VALUES('VEC16','TACOMA','CARRIER','860KG');
INSERT INTO VEHICLE VALUES('VEC17','TOYOTA','LORRY','850KG');
INSERT INTO VEHICLE VALUES('VEC18','HONDA','MINIVAN','300KG');
INSERT INTO VEHICLE VALUES('VEC19','ASHOK LAYLAND','MINIVAN','600KG');
INSERT INTO VEHICLE VALUES('VEC20','TACOMA','MINIVAN','300KG');


---------------------------------------------------------------------------------------------------------------------------------------
CREATE TABLE HANDLES 
( HSSN INT REFERENCES EMPLOYEE(SSN), 
ORDER_ID VARCHAR(20) REFERENCES ORDER_DETAILS(ORDER_ID) 
);

INSERT INTO HANDLES VALUES(002,'O01');
INSERT INTO HANDLES VALUES(004,'O02');
INSERT INTO HANDLES VALUES(001,'O03');
INSERT INTO HANDLES VALUES(001,'O04');
INSERT INTO HANDLES VALUES(002,'O05');
INSERT INTO HANDLES VALUES(006,'O06');
INSERT INTO HANDLES VALUES(002,'O07');
INSERT INTO HANDLES VALUES(002,'O08');
INSERT INTO HANDLES VALUES(001,'O09');
INSERT INTO HANDLES VALUES(001,'O10');
INSERT INTO HANDLES VALUES(002,'O11');
INSERT INTO HANDLES VALUES(004,'O12');
INSERT INTO HANDLES VALUES(006,'O13');
INSERT INTO HANDLES VALUES(007,'O01');
INSERT INTO HANDLES VALUES(008,'O01');
INSERT INTO HANDLES VALUES(004,'O01');
INSERT INTO HANDLES VALUES(004,'O04');
INSERT INTO HANDLES VALUES(005,'O04');
INSERT INTO HANDLES VALUES(005,'O04');
INSERT INTO HANDLES VALUES(007,'O04');
INSERT INTO HANDLES VALUES(007,'O11');
INSERT INTO HANDLES VALUES(012,'O21');
INSERT INTO HANDLES VALUES(014,'O22');
INSERT INTO HANDLES VALUES(011,'O23');
INSERT INTO HANDLES VALUES(015,'O24');
INSERT INTO HANDLES VALUES(012,'O25');
INSERT INTO HANDLES VALUES(016,'O26');
INSERT INTO HANDLES VALUES(012,'O27');
INSERT INTO HANDLES VALUES(020,'O28');
INSERT INTO HANDLES VALUES(013,'O29');
INSERT INTO HANDLES VALUES(013,'O30');
INSERT INTO HANDLES VALUES(020,'O31');
INSERT INTO HANDLES VALUES(018,'O32');
INSERT INTO HANDLES VALUES(016,'O33');
INSERT INTO HANDLES VALUES(019,'O34');
INSERT INTO HANDLES VALUES(017,'O35');
INSERT INTO HANDLES VALUES(014,'O36');
INSERT INTO HANDLES VALUES(017,'O37');
INSERT INTO HANDLES VALUES(016,'O38');
INSERT INTO HANDLES VALUES(011,'O39');
INSERT INTO HANDLES VALUES(017,'O40');

CREATE TABLE CONSISTS 
( VEHICLENO VARCHAR(20) REFERENCES VEHICLE(VEHICLE_NO), 
ORDER_ID VARCHAR(20) REFERENCES ORDER_DETAILS(ORDER_ID) 
);

DELIMITER //
CREATE TRIGGER COUNTUP
AFTER INSERT ON CONSISTS
FOR EACH ROW
BEGIN
    UPDATE ORDER_DETAILS 
    SET TOT_VEHICLES = TOT_VEHICLES + 1
    WHERE NEW.ORDER_ID = ORDER_DETAILS.ORDER_ID;
END //
DELIMITER ;



INSERT INTO CONSISTS VALUES('VEC01','O01');
INSERT INTO CONSISTS VALUES('VEC02','O02');
INSERT INTO CONSISTS VALUES('VEC03','O03');
INSERT INTO CONSISTS VALUES('VEC04','O04');
INSERT INTO CONSISTS VALUES('VEC05','O05');
INSERT INTO CONSISTS VALUES('VEC06','O06');
INSERT INTO CONSISTS VALUES('VEC07','O07');
INSERT INTO CONSISTS VALUES('VEC08','O08');
INSERT INTO CONSISTS VALUES('VEC09','OO9');
INSERT INTO CONSISTS VALUES('VEC10','O10');
INSERT INTO CONSISTS VALUES('VEC11','O11');
INSERT INTO CONSISTS VALUES('VEC12','O12');
INSERT INTO CONSISTS VALUES('VEC13','O12');
INSERT INTO CONSISTS VALUES('VEC14','O13');
INSERT INTO CONSISTS VALUES('VEC15','O13');
INSERT INTO CONSISTS VALUES('VEC16','O02');
INSERT INTO CONSISTS VALUES('VEC17','O06');
INSERT INTO CONSISTS VALUES('VEC18','O02');
INSERT INTO CONSISTS VALUES('VEC19','O02');
INSERT INTO CONSISTS VALUES('VEC20','O02');
INSERT INTO CONSISTS VALUES('VEC01','O04');
INSERT INTO CONSISTS VALUES('VEC02','O06');
INSERT INTO CONSISTS VALUES('VEC01','O04');
INSERT INTO CONSISTS VALUES('VEC02','O04');
INSERT INTO CONSISTS VALUES('VEC01','O04');
INSERT INTO CONSISTS VALUES('VEC02','O06');
INSERT INTO CONSISTS VALUES('VEC31','O21');
INSERT INTO CONSISTS VALUES('VEC32','O22');
INSERT INTO CONSISTS VALUES('VEC33','O23');
INSERT INTO CONSISTS VALUES('VEC34','O26');
INSERT INTO CONSISTS VALUES('VEC35','O27');
INSERT INTO CONSISTS VALUES('VEC36','O22');
INSERT INTO CONSISTS VALUES('VEC37','O28');
INSERT INTO CONSISTS VALUES('VEC38','O26');
INSERT INTO CONSISTS VALUES('VEC39','O25');
INSERT INTO CONSISTS VALUES('VEC40','O29');
INSERT INTO CONSISTS VALUES('VEC41','O36');
INSERT INTO CONSISTS VALUES('VEC42','O37');
INSERT INTO CONSISTS VALUES('VEC43','O26');
INSERT INTO CONSISTS VALUES('VEC44','O33');
INSERT INTO CONSISTS VALUES('VEC45','O23');
INSERT INTO CONSISTS VALUES('VEC46','O22');
INSERT INTO CONSISTS VALUES('VEC47','O38');
INSERT INTO CONSISTS VALUES('VEC48','O39');
INSERT INTO CONSISTS VALUES('VEC49','O37');
INSERT INTO CONSISTS VALUES('VEC50','O34');
INSERT INTO CONSISTS VALUES('VEC51','O26');
INSERT INTO CONSISTS VALUES('VEC52','O25');
INSERT INTO CONSISTS VALUES('VEC53','O27');
INSERT INTO CONSISTS VALUES('VEC54','O22');
INSERT INTO CONSISTS VALUES('VEC55','O21');
INSERT INTO CONSISTS VALUES('VEC56','O23');
INSERT INTO CONSISTS VALUES('VEC57','O37');
INSERT INTO CONSISTS VALUES('VEC58','O39');
INSERT INTO CONSISTS VALUES('VEC59','O30');
INSERT INTO CONSISTS VALUES('VEC60','O25');

update ORDER_DETAILS set PARCEL_MATERIAL='ELECTRONICS' where PARCEL_MATERIAL='ELECTRONIC';
